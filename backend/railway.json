// {
//     "$schema": "https://railway.app/railway.schema.json",
//     "build": {
//       "builder": "NIXPACKS"
//     },
//     "deploy": {
//       "runtime": "UNSPECIFIED",
//       "numReplicas": 1,
//       "sleepApplication": false,
//       "restartPolicyType": "ON_FAILURE",
//       "restartPolicyMaxRetries": 10
//     }
//   }

  {
    "$schema": "https://railway.app/railway.schema.json",
    "build": {
      "builder": "NIXPACKS",
      "nixpacksPlan": {
          "providers": ["python"],
          "phases": {
              "setup": {
                  "nixPkgs": ["...", "nodejs"]
              }
          }
      },
      "buildCommand": "npm ci"
    },
    "deploy": {
      "startCommand": "python manage.py migrate && python manage.py collectstatic --noinput && gunicorn webapp.wsgi",
      "restartPolicyType": "ON_FAILURE",
      "restartPolicyMaxRetries": 10
    }
  }